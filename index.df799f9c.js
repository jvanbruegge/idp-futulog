var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequire9ccd;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequire9ccd=n);var o=n("3b7vp"),i=n("d9FT9");fetch("./force_graph.json").then((e=>e.json())).then((e=>c(e,a))),fetch("./force_graph_germany.json").then((e=>e.json())).then((e=>c(e,["Munich","Berlin","Stuttgart"],"_germany",10))),fetch("./force_graph_finland.json").then((e=>e.json())).then((e=>c(e,["Helsinki","Tampere"],"_finland",6)));const a=["Munich","Berlin","Stuttgart","Helsinki","Tampere"];function c(e,t,r="",n=3){return new Promise((a=>{r&&(document.querySelector(`#force_graph${r}_text`).textContent="Simulation running, please wait until the graph is properly layouted");const c=e.nodes.map((e=>({id:e})));let s=[];for(const[t,r]of Object.entries(e.edges))for(const[e,n]of Object.entries(r))s.push({source:parseInt(t),target:parseInt(e),d:n});const l=o.scaleSymlog().domain([150,1]).range([.5,5]),d=o.forceLink(s).id((e=>e.id)).distance((e=>l((e.d,n)))),f=o.forceSimulation(c).force("link",d).force("charge",o.forceManyBody()).force("center",o.forceCenter(i.width/2,i.height/2)).force("x",o.forceX(i.width/2).strength((e=>e.x>=i.width-20||e.x<=20?1:.01))).force("y",o.forceY(i.height/2).strength((e=>e.y>=i.height-20||e.y<=20?1:.01))),h=o.select("#force_graph"+r).attr("viewBox",[0,0,i.width,i.height]),u=h.append("g").attr("stroke-opacity",.4).selectAll("line").data(s).join("line").attr("stroke-width",.25).attr("stroke",(e=>(e=>{let r=0,n="";for(const o of t)(e[o]??0)>r&&(r=e[o],n=o);switch(n){case"Helsinki":return"steelblue";case"Tampere":return"green";case"Munich":return"red";case"Berlin":return"gray";case"Stuttgart":return"#9400d3"}})(e.d))),g=h.append("g").selectAll("circle").data(c).join("circle").attr("r",2).attr("fill","red");f.on("tick",(()=>{u.attr("x1",(e=>e.source.x)).attr("y1",(e=>e.source.y)).attr("x2",(e=>e.target.x)).attr("y2",(e=>e.target.y)),g.attr("cx",(e=>e.x)).attr("cy",(e=>e.y))})),f.on("end",(()=>{document.querySelector(`#force_graph${r}_text`).textContent="Simulation finished"})),setTimeout((()=>{f.stop(),document.querySelector(`#force_graph${r}_text`).textContent="Simulation finished",a()}),9e4)}))}
//# sourceMappingURL=index.df799f9c.js.map
